{
  "url": "https://docs.cloud.google.com/vertex-ai/generative-ai/docs/multimodal/control-generated-output",
  "title": "Structured output  |  Generative AI on Vertex AI  |  Google Cloud Documentation",
  "text_content": "Home\nTechnology areas\nGenerative AI on Vertex AI\nDocumentation\nSend feedback\nStructured output\nStay organized with collections\nSave and categorize content based on your preferences.\nYou can guarantee that a model's generated output always adheres to a specific\nschema so that you receive consistently formatted responses. For example, you\nmight have an established data schema that you use for other tasks. If you\nhave the model follow the same schema, you can directly extract data from the\nmodel's output without any post-processing.\nTo specify the structure of a model's output, define a\nresponse schema\n, which\nworks like a blueprint for model responses. When you submit a prompt and include\nthe\nresponse schema\n, the model's response always follows your defined\nschema.\nYou can control generated output when using the following models:\nGemini models:\nGemini 2.5 Flash\n(Preview)\nGemini 2.5 Flash-Lite\n(Preview)\nGemini 2.5 Flash-Lite\nGemini 2.5 Pro\nGemini 2.5 Flash\nGemini 2.0 Flash\nGemini 2.0 Flash-Lite\nOpen models:\nDeepSeek R1-0528\nLlama 4 Maverick\nLlama 4 Scout\nLlama 3.3\nFor Open Models, follow this\nuser guide\n.\nExample use cases\nOne use case for applying a response schema is to ensure that a model's response\nproduces valid JSON and conforms to your schema. Generative model outputs can\nhave some degree of variability, so including a response schema ensures that you\nalways receive valid JSON. Consequently, your downstream tasks can reliably\nexpect valid JSON input from generated responses.\nAnother example is to constrain how a model can respond. For example, you can\nhave a model annotate text with user-defined labels, not with labels that the\nmodel produces. This constraint is useful when you expect a specific set of\nlabels such as\npositive\nor\nnegative\nand don't want to receive a mixture of\nother labels that the model might generate like\ngood\n,\npositive\n,\nnegative\n,\nor\nbad\n.\nConsiderations\nThe following considerations discuss potential limitations if you plan on using\na response schema:\nYou must use the API to define and use a response schema. There's no console\nsupport.\nThe size of your response schema counts towards the input token limit.\nOnly certain output formats are supported, such as\napplication/json\nor\ntext/x.enum\n. For more information, see the\nresponseMimeType\nparameter in\nthe\nGemini API reference\n.\nStructured output supports a subset of the\nVertex AI\nschema reference\n. For more information, see\nSupported schema\nfields\n.\nA complex schema can result in an\nInvalidArgument: 400\nerror. Complexity\nmight come from long property names, long array length limits, enums with\nmany values, objects with lots of optional properties, or a combination of\nthese factors.\nIf you get this error with a valid schema, make one or more of the following\nchanges to resolve the error:\nShorten property names or enum names.\nFlatten nested arrays.\nReduce the number of properties with constraints, such as numbers with\nminimum and maximum limits.\nReduce the number of properties with complex constraints, such as\nproperties with complex formats like\ndate-time\n.\nReduce the number of optional properties.\nReduce the number of valid values for enums.\nSupported schema fields\nStructured output supports the following fields from the\nVertex AI schema\n. If you use an unsupported\nfield, Vertex AI can still handle your request but ignores the field.\nanyOf\nenum\n: only\nstring\nenums are supported\nformat\nitems\nmaximum\nmaxItems\nminimum\nminItems\nnullable\nproperties\npropertyOrdering\n*\nrequired\n*\npropertyOrdering\nis specifically for structured output and not part of the Vertex AI schema. This field defines the order in which properties are generated. The listed properties must be unique and must be valid keys in the\nproperties\ndictionary.\nWhen you define a schema, the model doesn't strictly follow the order of properties that you define in the\nproperties\nfield. To enforce a specific order for property generation, use the\npropertyOrdering\nfield. Properties listed in\npropertyOrdering\nare generated first, in the specified order, followed by any other properties.\nIf you use the Python SDK, the default property ordering follows the order that is defined in your schema. For all other cases, properties are generated alphabetically with the required properties grouped first followed by optional properties.\nFor the\nformat\nfield, Vertex AI supports the following values:\ndate\n,\ndate-time\n,\nduration\n, and\ntime\n. The description and format of each value is\ndescribed in the\nOpenAPI Initiative Registry\nBefore you begin\nDefine a response schema to specify the structure of a model's output, the field\nnames, and the expected data type for each field. Use only the supported fields\nas listed in the\nConsiderations\nsection. All other fields are\nignored.\nInclude your response schema as part of the\nresponseSchema\nfield only. Don't\nduplicate the schema in your input prompt. If you do, the generated output might\nbe lower in quality.\nFor sample schemas, see the\nExample schemas and model responses\nsection.\nModel behavior and response schema\nWhen a model generates a response, it uses the field name and context from your\nprompt. As such, we recommend that you use a clear structure and unambiguous\nfield names so that your intent is clear.\nBy default, fields are optional, meaning the model can\npopulate\nthe fields or\nskip\nthem. You can set fields as required to force the model to provide a\nvalue. If there's insufficient context in the associated input prompt, the\nmodel generates responses mainly based on the data it was trained on.\nIf you aren't seeing the results you expect, add more context to your input\nprompts or revise your response schema. For example, review the model's\nresponse without structured output to see how the model responds. You can\nthen update your response schema that better fits the model's output.\nSend a prompt with a response schema\nBy default, all fields are optional, meaning a model might generate a response\nto a field. To force the model to always generate a response to a field, set the\nfield as required.\nPython\nInstall\npip install --upgrade google-genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nfrom\ngoogle\nimport\ngenai\nfrom\ngoogle.genai.types\nimport\nHttpOptions\nresponse_schema\n=\n{\n\"type\"\n:\n\"ARRAY\"\n,\n\"items\"\n:\n{\n\"type\"\n:\n\"OBJECT\"\n,\n\"properties\"\n:\n{\n\"recipe_name\"\n:\n{\n\"type\"\n:\n\"STRING\"\n},\n\"ingredients\"\n:\n{\n\"type\"\n:\n\"ARRAY\"\n,\n\"items\"\n:\n{\n\"type\"\n:\n\"STRING\"\n}},\n},\n\"required\"\n:\n[\n\"recipe_name\"\n,\n\"ingredients\"\n],\n},\n}\nprompt\n=\n\"\"\"\nList a few popular cookie recipes.\n\"\"\"\nclient\n=\ngenai\n.\nClient\n(\nhttp_options\n=\nHttpOptions\n(\napi_version\n=\n\"v1\"\n))\nresponse\n=\nclient\n.\nmodels\n.\ngenerate_content\n(\nmodel\n=\n\"gemini-2.5-flash\"\n,\ncontents\n=\nprompt\n,\nconfig\n=\n{\n\"response_mime_type\"\n:\n\"application/json\"\n,\n\"response_schema\"\n:\nresponse_schema\n,\n},\n)\nprint\n(\nresponse\n.\ntext\n)\n# Example output:\n# [\n#     {\n#         \"ingredients\": [\n#             \"2 1/4 cups all-purpose flour\",\n#             \"1 teaspoon baking soda\",\n#             \"1 teaspoon salt\",\n#             \"1 cup (2 sticks) unsalted butter, softened\",\n#             \"3/4 cup granulated sugar\",\n#             \"3/4 cup packed brown sugar\",\n#             \"1 teaspoon vanilla extract\",\n#             \"2 large eggs\",\n#             \"2 cups chocolate chips\",\n#         ],\n#         \"recipe_name\": \"Chocolate Chip Cookies\",\n#     }\n# ]\nGo\nLearn how to install or update the\nGo\n.\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nimport\n(\n\"context\"\n\"fmt\"\n\"io\"\ngenai\n\"google.golang.org/genai\"\n)\n//\ngenerateWithRespSchema\nshows\nhow\nto\nuse\na\nresponse\nschema\nto\ngenerate\noutput\nin\na\nspecific\nformat\n.\nfunc\ngenerateWithRespSchema\n(\nw\nio\n.\nWriter\n)\nerror\n{\nctx\n:=\ncontext\n.\nBackground\n()\nclient\n,\nerr\n:=\ngenai\n.\nNewClient\n(\nctx\n,\n&\ngenai\n.\nClientConfig\n{\nHTTPOptions\n:\ngenai\n.\nHTTPOptions\n{\nAPIVersion\n:\n\"v1\"\n},\n})\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to create genai client: %w\"\n,\nerr\n)\n}\nconfig\n:=\n&\ngenai\n.\nGenerateContentConfig\n{\nResponseMIMEType\n:\n\"application/json\"\n,\n//\nSee\nthe\nOpenAPI\nspecification\nfor\nmore\ndetails\nand\nexamples\n:\n//\nhttps\n:\n//\nspec\n.\nopenapis\n.\norg\n/\noas\n/\nv3\n.0.3\n.\nhtml\n#schema-object\nResponseSchema\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"array\"\n,\nItems\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"object\"\n,\nProperties\n:\nmap\n[\nstring\n]\n*\ngenai\n.\nSchema\n{\n\"recipe_name\"\n:\n{\nType\n:\n\"string\"\n},\n\"ingredients\"\n:\n{\nType\n:\n\"array\"\n,\nItems\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"string\"\n},\n},\n},\nRequired\n:\n[]\nstring\n{\n\"recipe_name\"\n,\n\"ingredients\"\n},\n},\n},\n}\ncontents\n:=\n[]\n*\ngenai\n.\nContent\n{\n{\nParts\n:\n[]\n*\ngenai\n.\nPart\n{\n{\nText\n:\n\"List a few popular cookie recipes.\"\n},\n},\nRole\n:\n\"user\"\n},\n}\nmodelName\n:=\n\"gemini-2.5-flash\"\nresp\n,\nerr\n:=\nclient\n.\nModels\n.\nGenerateContent\n(\nctx\n,\nmodelName\n,\ncontents\n,\nconfig\n)\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to generate content: %w\"\n,\nerr\n)\n}\nrespText\n:=\nresp\n.\nText\n()\nfmt\n.\nFprintln\n(\nw\n,\nrespText\n)\n//\nExample\nresponse\n:\n//\n[\n//\n{\n//\n\"ingredients\"\n:\n[\n//\n\"2 1/4 cups all-purpose flour\"\n,\n//\n\"1 teaspoon baking soda\"\n,\n//\n...\n//\n],\n//\n\"recipe_name\"\n:\n\"Chocolate Chip Cookies\"\n//\n},\n//\n{\n//\n...\n//\n},\n//\n...\n//\n]\nreturn\nnil\n}\nNode.js\nInstall\nnpm install @google/genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nconst\n{\nGoogleGenAI\n}\n=\nrequire\n(\n'@google/genai'\n);\nconst\nGOOGLE_CLOUD_PROJECT\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_PROJECT\n;\nconst\nGOOGLE_CLOUD_LOCATION\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_LOCATION\n||\n'global'\n;\nasync\nfunction\ngenerateResponseSchema\n(\nprojectId\n=\nGOOGLE_CLOUD_PROJECT\n,\nlocation\n=\nGOOGLE_CLOUD_LOCATION\n)\n{\nconst\nclient\n=\nnew\nGoogleGenAI\n({\nvertexai\n:\ntrue\n,\nproject\n:\nprojectId\n,\nlocation\n:\nlocation\n,\n});\nconst\nprompt\n=\n'List a few popular cookie recipes.'\n;\nconst\nresponseSchema\n=\n{\ntype\n:\n'ARRAY'\n,\nitems\n:\n{\ntype\n:\n'OBJECT'\n,\nproperties\n:\n{\nrecipeName\n:\n{\ntype\n:\n'STRING'\n},\ningredients\n:\n{\ntype\n:\n'ARRAY'\n,\nitems\n:\n{\ntype\n:\n'STRING'\n},\n},\n},\nrequired\n:\n[\n'recipeName'\n,\n'ingredients'\n],\n},\n};\nconst\nresponse\n=\nawait\nclient\n.\nmodels\n.\ngenerateContent\n({\nmodel\n:\n'gemini-2.5-flash'\n,\ncontents\n:\nprompt\n,\nconfig\n:\n{\nresponseMimeType\n:\n'application/json'\n,\nresponseSchema\n:\nresponseSchema\n,\n},\n});\nconsole\n.\nlog\n(\nresponse\n.\ntext\n);\n//\nExample\noutput\n:\n//\n[\n//\n{\n//\n\"ingredients\"\n:\n[\n//\n\"2 1/4 cups all-purpose flour\"\n,\n//\n\"1 teaspoon baking soda\"\n,\n//\n\"1 teaspoon salt\"\n,\n//\n\"1 cup (2 sticks) unsalted butter, softened\"\n,\n//\n\"3/4 cup granulated sugar\"\n,\n//\n\"3/4 cup packed brown sugar\"\n,\n//\n\"1 teaspoon vanilla extract\"\n,\n//\n\"2 large eggs\"\n,\n//\n\"2 cups chocolate chips\"\n,\n//\n],\n//\n\"recipe_name\"\n:\n\"Chocolate Chip Cookies\"\n,\n//\n}\n//\n]\nreturn\nresponse\n.\ntext\n;\n}\nREST\nBefore using any of the request data,\nmake the following replacements:\nGENERATE_RESPONSE_METHOD\n: The type of response that you want the model to generate.\nChoose a method that generates how you want the model's response to be returned:\nstreamGenerateContent\n: The response is streamed as it's being generated to reduce the perception of latency to a human audience.\ngenerateContent\n: The response is returned after it's fully generated.\nLOCATION\n: The region to process the request.\nPROJECT_ID\n: Your\nproject ID\n.\nMODEL_ID\n: The model ID of the\nmultimodal model that you want to use.\nROLE\n:\nThe role in a conversation associated with the content. Specifying a role is required even in\nsingleturn use cases.\nAcceptable values include the following:\nUSER\n: Specifies content that's sent by you.\nTEXT\n:\nThe text instructions to include in the prompt.\nRESPONSE_MIME_TYPE\n: The format type of the\ngenerated candidate text. For a list of supported values, see the\nresponseMimeType\nparameter in the\nGemini API\n.\nRESPONSE_SCHEMA\n: Schema for the\nmodel to follow when generating responses. For more information, see the\nSchema\nreference.\nHTTP method and URL:\nPOST https://\nLOCATION\n-aiplatform.googleapis.com/v1/projects/\nPROJECT_ID\n/locations/\nLOCATION\n/publishers/google/models/\nMODEL_ID\n:\nGENERATE_RESPONSE_METHOD\nRequest JSON body:\n{\n\"contents\": {\n\"role\": \"\nROLE\n\",\n\"parts\": {\n\"text\": \"\nTEXT\n\"\n}\n},\n\"generation_config\": {\n\"responseMimeType\": \"\nRESPONSE_MIME_TYPE\n\",\n\"responseSchema\":\nRESPONSE_SCHEMA\n,\n}\n}\nTo send your request, choose one of these options:\ncurl\nSave the request body in a file named\nrequest.json\n,\nand execute the following command:\ncurl -X POST \\\n-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\\n-H \"Content-Type: application/json; charset=utf-8\" \\\n-d @request.json \\\n\"https://\nLOCATION\n-aiplatform.googleapis.com/v1/projects/\nPROJECT_ID\n/locations/\nLOCATION\n/publishers/google/models/\nMODEL_ID\n:\nGENERATE_RESPONSE_METHOD\n\"\nPowerShell\nSave the request body in a file named\nrequest.json\n,\nand execute the following command:\n$cred = gcloud auth print-access-token\n$headers = @{ \"Authorization\" = \"Bearer $cred\" }\nInvoke-WebRequest `\n-Method POST `\n-Headers $headers `\n-ContentType: \"application/json; charset=utf-8\" `\n-InFile request.json `\n-Uri \"https://\nLOCATION\n-aiplatform.googleapis.com/v1/projects/\nPROJECT_ID\n/locations/\nLOCATION\n/publishers/google/models/\nMODEL_ID\n:\nGENERATE_RESPONSE_METHOD\n\" | Select-Object -Expand Content\nYou should receive a JSON response similar to the following.\nResponse\n{\n\"candidates\": [\n{\n\"content\": {\n\"role\": \"model\",\n\"parts\": [\n{\n\"text\": \"[{\\\"recipe_name\\\": \\\"Chocolate Chip Cookies\\\"}, {\\\"recipe_name\\\": \\\"Peanut Butter Cookies\\\"}, {\\\"recipe_name\\\": \\\"Oatmeal Raisin Cookies\\\"}, {\\\"recipe_name\\\": \\\"Sugar Cookies\\\"}, {\\\"recipe_name\\\": \\\"Snickerdoodles\\\"}]\"\n}\n]\n},\n\"finishReason\": \"STOP\",\n\"safetyRatings\": [\n{\n\"category\": \"HARM_CATEGORY_HATE_SPEECH\",\n\"probability\": \"NEGLIGIBLE\",\n\"probabilityScore\": 0.08021325,\n\"severity\": \"HARM_SEVERITY_NEGLIGIBLE\",\n\"severityScore\": 0.0921962\n},\n{\n\"category\": \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n\"probability\": \"NEGLIGIBLE\",\n\"probabilityScore\": 0.14730969,\n\"severity\": \"HARM_SEVERITY_NEGLIGIBLE\",\n\"severityScore\": 0.08866235\n},\n{\n\"category\": \"HARM_CATEGORY_HARASSMENT\",\n\"probability\": \"NEGLIGIBLE\",\n\"probabilityScore\": 0.13432105,\n\"severity\": \"HARM_SEVERITY_NEGLIGIBLE\",\n\"severityScore\": 0.07172113\n},\n{\n\"category\": \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n\"probability\": \"NEGLIGIBLE\",\n\"probabilityScore\": 0.12787028,\n\"severity\": \"HARM_SEVERITY_NEGLIGIBLE\",\n\"severityScore\": 0.10017223\n}\n]\n}\n],\n\"usageMetadata\": {\n\"promptTokenCount\": 7,\n\"candidatesTokenCount\": 55,\n\"totalTokenCount\": 62\n}\n}\nExample curl command\nLOCATION\n=\n\"us-central1\"\nMODEL_ID\n=\n\"gemini-2.5-flash\"\nPROJECT_ID\n=\n\"test-project\"\nGENERATE_RESPONSE_METHOD\n=\n\"generateContent\"\ncat\n<<\nEOF\n>\nrequest.json\n{\n\"contents\"\n:\n{\n\"role\"\n:\n\"user\"\n,\n\"parts\"\n:\n{\n\"text\"\n:\n\"List a few popular cookie recipes.\"\n}\n}\n,\n\"generation_config\"\n:\n{\n\"maxOutputTokens\"\n:\n2048\n,\n\"responseMimeType\"\n:\n\"application/json\"\n,\n\"responseSchema\"\n:\n{\n\"type\"\n:\n\"array\"\n,\n\"items\"\n:\n{\n\"type\"\n:\n\"object\"\n,\n\"properties\"\n:\n{\n\"recipe_name\"\n:\n{\n\"type\"\n:\n\"string\"\n,\n}\n,\n}\n,\n\"required\"\n:\n[\n\"recipe_name\"\n]\n,\n}\n,\n}\n}\n}\nEOF\ncurl\n\\\n-X\nPOST\n\\\n-H\n\"Authorization: Bearer\n$(\ngcloud\nauth\nprint-access-token\n)\n\"\n\\\n-H\n\"Content-Type: application/json\"\n\\\nhttps://\n${\nLOCATION\n}\n-aiplatform.googleapis.com/v1/projects/\n${\nPROJECT_ID\n}\n/locations/\n${\nLOCATION\n}\n/publishers/google/models/\n${\nMODEL_ID\n}\n:\n${\nGENERATE_RESPONSE_METHOD\n}\n\\\n-d\n'@request.json'\nExample schemas for JSON output\nThe following sections demonstrate a variety of sample prompts and response\nschemas. A sample model response is also included after each code sample.\nForecast the weather for each day of the week in an array\nClassify a product with a well-defined enum\nForecast the weather for each day of the week\nThe following example outputs a\nforecast\nobject for each day\nof the week that includes an array of properties such as the expected\ntemperature and humidity level for the day. Some properties are set to nullable\nso the model can return a null value when it doesn't have enough context to\ngenerate a meaningful response. This strategy helps reduce hallucinations.\nPython\nInstall\npip install --upgrade google-genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nfrom\ngoogle\nimport\ngenai\nfrom\ngoogle.genai.types\nimport\nGenerateContentConfig\n,\nHttpOptions\nresponse_schema\n=\n{\n\"type\"\n:\n\"OBJECT\"\n,\n\"properties\"\n:\n{\n\"forecast\"\n:\n{\n\"type\"\n:\n\"ARRAY\"\n,\n\"items\"\n:\n{\n\"type\"\n:\n\"OBJECT\"\n,\n\"properties\"\n:\n{\n\"Day\"\n:\n{\n\"type\"\n:\n\"STRING\"\n,\n\"nullable\"\n:\nTrue\n},\n\"Forecast\"\n:\n{\n\"type\"\n:\n\"STRING\"\n,\n\"nullable\"\n:\nTrue\n},\n\"Temperature\"\n:\n{\n\"type\"\n:\n\"INTEGER\"\n,\n\"nullable\"\n:\nTrue\n},\n\"Humidity\"\n:\n{\n\"type\"\n:\n\"STRING\"\n,\n\"nullable\"\n:\nTrue\n},\n\"Wind Speed\"\n:\n{\n\"type\"\n:\n\"INTEGER\"\n,\n\"nullable\"\n:\nTrue\n},\n},\n\"required\"\n:\n[\n\"Day\"\n,\n\"Temperature\"\n,\n\"Forecast\"\n,\n\"Wind Speed\"\n],\n},\n}\n},\n}\nprompt\n=\n\"\"\"\nThe week ahead brings a mix of weather conditions.\nSunday is expected to be sunny with a temperature of 77°F and a humidity level of 50%. Winds will be light at around 10 km/h.\nMonday will see partly cloudy skies with a slightly cooler temperature of 72°F and the winds will pick up slightly to around 15 km/h.\nTuesday brings rain showers, with temperatures dropping to 64°F and humidity rising to 70%.\nWednesday may see thunderstorms, with a temperature of 68°F.\nThursday will be cloudy with a temperature of 66°F and moderate humidity at 60%.\nFriday returns to partly cloudy conditions, with a temperature of 73°F and the Winds will be light at 12 km/h.\nFinally, Saturday rounds off the week with sunny skies, a temperature of 80°F, and a humidity level of 40%. Winds will be gentle at 8 km/h.\n\"\"\"\nclient\n=\ngenai\n.\nClient\n(\nhttp_options\n=\nHttpOptions\n(\napi_version\n=\n\"v1\"\n))\nresponse\n=\nclient\n.\nmodels\n.\ngenerate_content\n(\nmodel\n=\n\"gemini-2.5-flash\"\n,\ncontents\n=\nprompt\n,\nconfig\n=\nGenerateContentConfig\n(\nresponse_mime_type\n=\n\"application/json\"\n,\nresponse_schema\n=\nresponse_schema\n,\n),\n)\nprint\n(\nresponse\n.\ntext\n)\n# Example output:\n# {\"forecast\": [{\"Day\": \"Sunday\", \"Forecast\": \"sunny\", \"Temperature\": 77, \"Wind Speed\": 10, \"Humidity\": \"50%\"},\n#   {\"Day\": \"Monday\", \"Forecast\": \"partly cloudy\", \"Temperature\": 72, \"Wind Speed\": 15},\n#   {\"Day\": \"Tuesday\", \"Forecast\": \"rain showers\", \"Temperature\": 64, \"Wind Speed\": null, \"Humidity\": \"70%\"},\n#   {\"Day\": \"Wednesday\", \"Forecast\": \"thunderstorms\", \"Temperature\": 68, \"Wind Speed\": null},\n#   {\"Day\": \"Thursday\", \"Forecast\": \"cloudy\", \"Temperature\": 66, \"Wind Speed\": null, \"Humidity\": \"60%\"},\n#   {\"Day\": \"Friday\", \"Forecast\": \"partly cloudy\", \"Temperature\": 73, \"Wind Speed\": 12},\n#   {\"Day\": \"Saturday\", \"Forecast\": \"sunny\", \"Temperature\": 80, \"Wind Speed\": 8, \"Humidity\": \"40%\"}]}\nGo\nLearn how to install or update the\nGo\n.\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nimport\n(\n\"context\"\n\"fmt\"\n\"io\"\ngenai\n\"google.golang.org/genai\"\n)\n//\ngenerateWithNullables\nshows\nhow\nto\nuse\nthe\nresponse\nschema\nwith\nnullable\nvalues\n.\nfunc\ngenerateWithNullables\n(\nw\nio\n.\nWriter\n)\nerror\n{\nctx\n:=\ncontext\n.\nBackground\n()\nclient\n,\nerr\n:=\ngenai\n.\nNewClient\n(\nctx\n,\n&\ngenai\n.\nClientConfig\n{\nHTTPOptions\n:\ngenai\n.\nHTTPOptions\n{\nAPIVersion\n:\n\"v1\"\n},\n})\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to create genai client: %w\"\n,\nerr\n)\n}\nmodelName\n:=\n\"gemini-2.5-flash\"\nprompt\n:=\n`\nThe\nweek\nahead\nbrings\na\nmix\nof\nweather\nconditions\n.\nSunday\nis\nexpected\nto\nbe\nsunny\nwith\na\ntemperature\nof\n77\n°\nF\nand\na\nhumidity\nlevel\nof\n50\n%.\nWinds\nwill\nbe\nlight\nat\naround\n10\nkm\n/\nh\n.\nMonday\nwill\nsee\npartly\ncloudy\nskies\nwith\na\nslightly\ncooler\ntemperature\nof\n72\n°\nF\nand\nthe\nwinds\nwill\npick\nup\nslightly\nto\naround\n15\nkm\n/\nh\n.\nTuesday\nbrings\nrain\nshowers\n,\nwith\ntemperatures\ndropping\nto\n64\n°\nF\nand\nhumidity\nrising\nto\n70\n%.\nWednesday\nmay\nsee\nthunderstorms\n,\nwith\na\ntemperature\nof\n68\n°\nF\n.\nThursday\nwill\nbe\ncloudy\nwith\na\ntemperature\nof\n66\n°\nF\nand\nmoderate\nhumidity\nat\n60\n%.\nFriday\nreturns\nto\npartly\ncloudy\nconditions\n,\nwith\na\ntemperature\nof\n73\n°\nF\nand\nthe\nWinds\nwill\nbe\nlight\nat\n12\nkm\n/\nh\n.\nFinally\n,\nSaturday\nrounds\noff\nthe\nweek\nwith\nsunny\nskies\n,\na\ntemperature\nof\n80\n°\nF\n,\nand\na\nhumidity\nlevel\nof\n40\n%.\nWinds\nwill\nbe\ngentle\nat\n8\nkm\n/\nh\n.\n`\ncontents\n:=\n[]\n*\ngenai\n.\nContent\n{\n{\nParts\n:\n[]\n*\ngenai\n.\nPart\n{\n{\nText\n:\nprompt\n},\n},\nRole\n:\n\"user\"\n},\n}\nconfig\n:=\n&\ngenai\n.\nGenerateContentConfig\n{\nResponseMIMEType\n:\n\"application/json\"\n,\n//\nSee\nthe\nOpenAPI\nspecification\nfor\nmore\ndetails\nand\nexamples\n:\n//\nhttps\n:\n//\nspec\n.\nopenapis\n.\norg\n/\noas\n/\nv3\n.0.3\n.\nhtml\n#schema-object\nResponseSchema\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"object\"\n,\nProperties\n:\nmap\n[\nstring\n]\n*\ngenai\n.\nSchema\n{\n\"forecast\"\n:\n{\nType\n:\n\"array\"\n,\nItems\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"object\"\n,\nProperties\n:\nmap\n[\nstring\n]\n*\ngenai\n.\nSchema\n{\n\"Day\"\n:\n{\nType\n:\n\"string\"\n,\nNullable\n:\ngenai\n.\nPtr\n(\ntrue\n)},\n\"Forecast\"\n:\n{\nType\n:\n\"string\"\n,\nNullable\n:\ngenai\n.\nPtr\n(\ntrue\n)},\n\"Temperature\"\n:\n{\nType\n:\n\"integer\"\n,\nNullable\n:\ngenai\n.\nPtr\n(\ntrue\n)},\n\"Humidity\"\n:\n{\nType\n:\n\"string\"\n,\nNullable\n:\ngenai\n.\nPtr\n(\ntrue\n)},\n\"Wind Speed\"\n:\n{\nType\n:\n\"integer\"\n,\nNullable\n:\ngenai\n.\nPtr\n(\ntrue\n)},\n},\nRequired\n:\n[]\nstring\n{\n\"Day\"\n,\n\"Temperature\"\n,\n\"Forecast\"\n,\n\"Wind Speed\"\n},\n},\n},\n},\n},\n}\nresp\n,\nerr\n:=\nclient\n.\nModels\n.\nGenerateContent\n(\nctx\n,\nmodelName\n,\ncontents\n,\nconfig\n)\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to generate content: %w\"\n,\nerr\n)\n}\nrespText\n:=\nresp\n.\nText\n()\nfmt\n.\nFprintln\n(\nw\n,\nrespText\n)\n//\nExample\nresponse\n:\n//\n{\n//\n\"forecast\"\n:\n[\n//\n{\n\"Day\"\n:\n\"Sunday\"\n,\n\"Forecast\"\n:\n\"Sunny\"\n,\n\"Temperature\"\n:\n77\n,\n\"Wind Speed\"\n:\n10\n,\n\"Humidity\"\n:\n\"50%\"\n},\n//\n{\n\"Day\"\n:\n\"Monday\"\n,\n\"Forecast\"\n:\n\"Partly Cloudy\"\n,\n\"Temperature\"\n:\n72\n,\n\"Wind Speed\"\n:\n15\n},\n//\n{\n\"Day\"\n:\n\"Tuesday\"\n,\n\"Forecast\"\n:\n\"Rain Showers\"\n,\n\"Temperature\"\n:\n64\n,\n\"Wind Speed\"\n:\nnull\n,\n\"Humidity\"\n:\n\"70%\"\n},\n//\n{\n\"Day\"\n:\n\"Wednesday\"\n,\n\"Forecast\"\n:\n\"Thunderstorms\"\n,\n\"Temperature\"\n:\n68\n,\n\"Wind Speed\"\n:\nnull\n},\n//\n{\n\"Day\"\n:\n\"Thursday\"\n,\n\"Forecast\"\n:\n\"Cloudy\"\n,\n\"Temperature\"\n:\n66\n,\n\"Wind Speed\"\n:\nnull\n,\n\"Humidity\"\n:\n\"60%\"\n},\n//\n{\n\"Day\"\n:\n\"Friday\"\n,\n\"Forecast\"\n:\n\"Partly Cloudy\"\n,\n\"Temperature\"\n:\n73\n,\n\"Wind Speed\"\n:\n12\n},\n//\n{\n\"Day\"\n:\n\"Saturday\"\n,\n\"Forecast\"\n:\n\"Sunny\"\n,\n\"Temperature\"\n:\n80\n,\n\"Wind Speed\"\n:\n8\n,\n\"Humidity\"\n:\n\"40%\"\n}\n//\n]\n//\n}\nreturn\nnil\n}\nNode.js\nInstall\nnpm install @google/genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nconst\n{\nGoogleGenAI\n}\n=\nrequire\n(\n'@google/genai'\n);\nconst\nGOOGLE_CLOUD_PROJECT\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_PROJECT\n;\nconst\nGOOGLE_CLOUD_LOCATION\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_LOCATION\n||\n'global'\n;\nasync\nfunction\ngenerateNullableSchema\n(\nprojectId\n=\nGOOGLE_CLOUD_PROJECT\n,\nlocation\n=\nGOOGLE_CLOUD_LOCATION\n)\n{\nconst\nclient\n=\nnew\nGoogleGenAI\n({\nvertexai\n:\ntrue\n,\nproject\n:\nprojectId\n,\nlocation\n:\nlocation\n,\n});\nconst\nprompt\n=\n`\nThe\nweek\nahead\nbrings\na\nmix\nof\nweather\nconditions\n.\nSunday\nis\nexpected\nto\nbe\nsunny\nwith\na\ntemperature\nof\n77\n°\nF\nand\na\nhumidity\nlevel\nof\n50\n%.\nWinds\nwill\nbe\nlight\nat\naround\n10\nkm\n/\nh\n.\nMonday\nwill\nsee\npartly\ncloudy\nskies\nwith\na\nslightly\ncooler\ntemperature\nof\n72\n°\nF\nand\nthe\nwinds\nwill\npick\nup\nslightly\nto\naround\n15\nkm\n/\nh\n.\nTuesday\nbrings\nrain\nshowers\n,\nwith\ntemperatures\ndropping\nto\n64\n°\nF\nand\nhumidity\nrising\nto\n70\n%.\nWednesday\nmay\nsee\nthunderstorms\n,\nwith\na\ntemperature\nof\n68\n°\nF\n.\nThursday\nwill\nbe\ncloudy\nwith\na\ntemperature\nof\n66\n°\nF\nand\nmoderate\nhumidity\nat\n60\n%.\nFriday\nreturns\nto\npartly\ncloudy\nconditions\n,\nwith\na\ntemperature\nof\n73\n°\nF\nand\nthe\nWinds\nwill\nbe\nlight\nat\n12\nkm\n/\nh\n.\nFinally\n,\nSaturday\nrounds\noff\nthe\nweek\nwith\nsunny\nskies\n,\na\ntemperature\nof\n80\n°\nF\n,\nand\na\nhumidity\nlevel\nof\n40\n%.\nWinds\nwill\nbe\ngentle\nat\n8\nkm\n/\nh\n.\n`\n;\nconst\nresponseSchema\n=\n{\ntype\n:\n'object'\n,\nproperties\n:\n{\nforecast\n:\n{\ntype\n:\n'array'\n,\nitems\n:\n{\ntype\n:\n'object'\n,\nproperties\n:\n{\nDay\n:\n{\ntype\n:\n'string'\n,\nnullable\n:\ntrue\n},\nForecast\n:\n{\ntype\n:\n'string'\n,\nnullable\n:\ntrue\n},\nTemperature\n:\n{\ntype\n:\n'integer'\n,\nnullable\n:\ntrue\n},\nHumidity\n:\n{\ntype\n:\n'string'\n,\nnullable\n:\ntrue\n},\nWindSpeed\n:\n{\ntype\n:\n'integer'\n,\nnullable\n:\ntrue\n},\n},\nrequired\n:\n[\n'Day'\n,\n'Temperature'\n,\n'Forecast'\n,\n'WindSpeed'\n],\n},\n},\n},\n};\nconst\nresponse\n=\nawait\nclient\n.\nmodels\n.\ngenerateContent\n({\nmodel\n:\n'gemini-2.5-flash'\n,\ncontents\n:\nprompt\n,\nconfig\n:\n{\nresponseMimeType\n:\n'application/json'\n,\nresponseSchema\n:\nresponseSchema\n,\n},\n});\nconsole\n.\nlog\n(\nresponse\n.\ntext\n);\n//\nExample\noutput\n:\n//\n{\n\"forecast\"\n:\n[{\n\"Day\"\n:\n\"Sunday\"\n,\n\"Forecast\"\n:\n\"sunny\"\n,\n\"Temperature\"\n:\n77\n,\n\"Wind Speed\"\n:\n10\n,\n\"Humidity\"\n:\n\"50%\"\n},\n//\n{\n\"Day\"\n:\n\"Monday\"\n,\n\"Forecast\"\n:\n\"partly cloudy\"\n,\n\"Temperature\"\n:\n72\n,\n\"Wind Speed\"\n:\n15\n},\n//\n{\n\"Day\"\n:\n\"Tuesday\"\n,\n\"Forecast\"\n:\n\"rain showers\"\n,\n\"Temperature\"\n:\n64\n,\n\"Wind Speed\"\n:\nnull\n,\n\"Humidity\"\n:\n\"70%\"\n},\n//\n{\n\"Day\"\n:\n\"Wednesday\"\n,\n\"Forecast\"\n:\n\"thunderstorms\"\n,\n\"Temperature\"\n:\n68\n,\n\"Wind Speed\"\n:\nnull\n},\n//\n{\n\"Day\"\n:\n\"Thursday\"\n,\n\"Forecast\"\n:\n\"cloudy\"\n,\n\"Temperature\"\n:\n66\n,\n\"Wind Speed\"\n:\nnull\n,\n\"Humidity\"\n:\n\"60%\"\n},\n//\n{\n\"Day\"\n:\n\"Friday\"\n,\n\"Forecast\"\n:\n\"partly cloudy\"\n,\n\"Temperature\"\n:\n73\n,\n\"Wind Speed\"\n:\n12\n},\n//\n{\n\"Day\"\n:\n\"Saturday\"\n,\n\"Forecast\"\n:\n\"sunny\"\n,\n\"Temperature\"\n:\n80\n,\n\"Wind Speed\"\n:\n8\n,\n\"Humidity\"\n:\n\"40%\"\n}]}\nreturn\nresponse\n.\ntext\n;\n}\nClassify a product\nThe following example includes enums where the model must classify an\nobject's type and condition from a list of given values.\nPython\nInstall\npip install --upgrade google-genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nfrom\ngoogle\nimport\ngenai\nfrom\ngoogle.genai.types\nimport\nGenerateContentConfig\n,\nHttpOptions\nclient\n=\ngenai\n.\nClient\n(\nhttp_options\n=\nHttpOptions\n(\napi_version\n=\n\"v1\"\n))\nresponse\n=\nclient\n.\nmodels\n.\ngenerate_content\n(\nmodel\n=\n\"gemini-2.5-flash\"\n,\ncontents\n=\n\"What type of instrument is an oboe?\"\n,\nconfig\n=\nGenerateContentConfig\n(\nresponse_mime_type\n=\n\"text/x.enum\"\n,\nresponse_schema\n=\n{\n\"type\"\n:\n\"STRING\"\n,\n\"enum\"\n:\n[\n\"Percussion\"\n,\n\"String\"\n,\n\"Woodwind\"\n,\n\"Brass\"\n,\n\"Keyboard\"\n],\n},\n),\n)\nprint\n(\nresponse\n.\ntext\n)\n# Example output:\n# Woodwind\nGo\nLearn how to install or update the\nGo\n.\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nimport\n(\n\"context\"\n\"fmt\"\n\"io\"\ngenai\n\"google.golang.org/genai\"\n)\n//\ngenerateWithEnumSchema\nshows\nhow\nto\nuse\nenum\nschema\nto\ngenerate\noutput\n.\nfunc\ngenerateWithEnumSchema\n(\nw\nio\n.\nWriter\n)\nerror\n{\nctx\n:=\ncontext\n.\nBackground\n()\nclient\n,\nerr\n:=\ngenai\n.\nNewClient\n(\nctx\n,\n&\ngenai\n.\nClientConfig\n{\nHTTPOptions\n:\ngenai\n.\nHTTPOptions\n{\nAPIVersion\n:\n\"v1\"\n},\n})\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to create genai client: %w\"\n,\nerr\n)\n}\nmodelName\n:=\n\"gemini-2.5-flash\"\ncontents\n:=\n[]\n*\ngenai\n.\nContent\n{\n{\nParts\n:\n[]\n*\ngenai\n.\nPart\n{\n{\nText\n:\n\"What type of instrument is an oboe?\"\n},\n},\nRole\n:\n\"user\"\n},\n}\nconfig\n:=\n&\ngenai\n.\nGenerateContentConfig\n{\nResponseMIMEType\n:\n\"text/x.enum\"\n,\nResponseSchema\n:\n&\ngenai\n.\nSchema\n{\nType\n:\n\"STRING\"\n,\nEnum\n:\n[]\nstring\n{\n\"Percussion\"\n,\n\"String\"\n,\n\"Woodwind\"\n,\n\"Brass\"\n,\n\"Keyboard\"\n},\n},\n}\nresp\n,\nerr\n:=\nclient\n.\nModels\n.\nGenerateContent\n(\nctx\n,\nmodelName\n,\ncontents\n,\nconfig\n)\nif\nerr\n!=\nnil\n{\nreturn\nfmt\n.\nErrorf\n(\n\"failed to generate content: %w\"\n,\nerr\n)\n}\nrespText\n:=\nresp\n.\nText\n()\nfmt\n.\nFprintln\n(\nw\n,\nrespText\n)\n//\nExample\nresponse\n:\n//\nWoodwind\nreturn\nnil\n}\nNode.js\nInstall\nnpm install @google/genai\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nconst\n{\nGoogleGenAI\n,\nType\n}\n=\nrequire\n(\n'@google/genai'\n);\nconst\nGOOGLE_CLOUD_PROJECT\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_PROJECT\n;\nconst\nGOOGLE_CLOUD_LOCATION\n=\nprocess\n.\nenv\n.\nGOOGLE_CLOUD_LOCATION\n||\n'global'\n;\nasync\nfunction\ngenerateContent\n(\nprojectId\n=\nGOOGLE_CLOUD_PROJECT\n,\nlocation\n=\nGOOGLE_CLOUD_LOCATION\n)\n{\nconst\nclient\n=\nnew\nGoogleGenAI\n({\nvertexai\n:\ntrue\n,\nproject\n:\nprojectId\n,\nlocation\n:\nlocation\n,\n});\nconst\nresponseSchema\n=\n{\ntype\n:\nType\n.\nSTRING\n,\nenum\n:\n[\n'Percussion'\n,\n'String'\n,\n'Woodwind'\n,\n'Brass'\n,\n'Keyboard'\n],\n};\nconst\nresponse\n=\nawait\nclient\n.\nmodels\n.\ngenerateContent\n({\nmodel\n:\n'gemini-2.5-flash'\n,\ncontents\n:\n'What type of instrument is an oboe?'\n,\nconfig\n:\n{\nresponseMimeType\n:\n'text/x.enum'\n,\nresponseSchema\n:\nresponseSchema\n,\n},\n});\nconsole\n.\nlog\n(\nresponse\n.\ntext\n);\n//\nExample\noutput\n:\n//\nWoodwind\nreturn\nresponse\n.\ntext\n;\n}\nJava\nLearn how to install or update the\nJava\n.\nTo learn more, see the\nSDK reference documentation\n.\nSet environment variables to use the Gen AI SDK with Vertex AI:\n# Replace the `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION` values\n# with appropriate values for your project.\nexport\nGOOGLE_CLOUD_PROJECT\n=\nGOOGLE_CLOUD_PROJECT\nexport\nGOOGLE_CLOUD_LOCATION\n=\nglobal\nexport\nGOOGLE_GENAI_USE_VERTEXAI\n=\nTrue\nimport\ncom.google.genai.Client\n;\nimport\ncom.google.genai.types.GenerateContentConfig\n;\nimport\ncom.google.genai.types.GenerateContentResponse\n;\nimport\ncom.google.genai.types.HttpOptions\n;\nimport\ncom.google.genai.types.Schema\n;\nimport\ncom.google.genai.types.Type\n;\nimport\njava.util.List\n;\npublic\nclass\nControlledGenerationWithEnumSchema\n{\npublic\nstatic\nvoid\nmain\n(\nString\n[]\nargs\n)\n{\n//\nTODO\n(\ndeveloper\n):\nReplace\nthese\nvariables\nbefore\nrunning\nthe\nsample\n.\nString\ncontents\n=\n\"What type of instrument is an oboe?\"\n;\nString\nmodelId\n=\n\"gemini-2.5-flash\"\n;\ngenerateContent\n(\nmodelId\n,\ncontents\n);\n}\n//\nGenerates\ncontent\nwith\nan\nenum\nresponse\nschema\npublic\nstatic\nString\ngenerateContent\n(\nString\nmodelId\n,\nString\ncontents\n)\n{\n//\nInitialize\nclient\nthat\nwill\nbe\nused\nto\nsend\nrequests\n.\nThis\nclient\nonly\nneeds\nto\nbe\ncreated\n//\nonce\n,\nand\ncan\nbe\nreused\nfor\nmultiple\nrequests\n.\ntry\n(\nClient\nclient\n=\nClient\n.\nbuilder\n()\n.\nlocation\n(\n\"global\"\n)\n.\nvertexAI\n(\ntrue\n)\n.\nhttpOptions\n(\nHttpOptions\n.\nbuilder\n()\n.\napiVersion\n(\n\"v1\"\n)\n.\nbuild\n())\n.\nbuild\n())\n{\n//\nDefine\nthe\nresponse\nschema\nwith\nan\nenum\n.\nSchema\nresponseSchema\n=\nSchema\n.\nbuilder\n()\n.\ntype\n(\nType\n.\nKnown\n.\nSTRING\n)\n.\nenum_\n(\nList\n.\nof\n(\n\"Percussion\"\n,\n\"String\"\n,\n\"Woodwind\"\n,\n\"Brass\"\n,\n\"Keyboard\"\n))\n.\nbuild\n();\nGenerateContentConfig\nconfig\n=\nGenerateContentConfig\n.\nbuilder\n()\n.\nresponseMimeType\n(\n\"text/x.enum\"\n)\n.\nresponseSchema\n(\nresponseSchema\n)\n.\nbuild\n();\nGenerateContentResponse\nresponse\n=\nclient\n.\nmodels\n.\ngenerateContent\n(\nmodelId\n,\ncontents\n,\nconfig\n);\nSystem\n.\nout\n.\nprint\n(\nresponse\n.\ntext\n());\n//\nExample\nresponse\n:\n//\nWoodwind\nreturn\nresponse\n.\ntext\n();\n}\n}\n}\nSend feedback\nExcept as otherwise noted, the content of this page is licensed under the\nCreative Commons Attribution 4.0 License\n, and code samples are licensed under the\nApache 2.0 License\n. For details, see the\nGoogle Developers Site Policies\n. Java is a registered trademark of Oracle and/or its affiliates.\nLast updated 2025-11-07 UTC.",
  "metadata": {
    "title": "Structured output  |  Generative AI on Vertex AI  |  Google Cloud Documentation",
    "extracted_at": "2025-11-11 14:27:44"
  }
}